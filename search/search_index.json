{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Shared Docs","text":"<p>A collection of documentation I created for personal use, that I thought might be worth sharing.</p>"},{"location":"#hello-world","title":"Hello World!","text":"<p>I'm Alec</p>"},{"location":"TrueNas/Expose%20Additional%20Ports%20to%20Truecharts%20Apps/","title":"TrueNas #truecharts #Networking","text":"<p>When configuring an App in in TrueNas Scale, I sometimes need to expose additional ports for subservices in the container. i.e. exposing a port for homekit in the Scrypted Chart </p> <p>First You'll need to configure an External Interface, you can follow this KB on how.</p> <ol> <li>With your IP configured, Navigate to Add Manual Custom Services click Add     Name: <code>&lt;servicename&gt;</code>     Service Type: LoadBalancer (Expose Ports) Default     LoadBalancer IP: <code>&lt;blank&gt;</code></li> <li>Click The Add Button next to Additional Service Ports     Port Name: <code>&lt;servicename&gt;</code>     Port Type: <code>&lt;Port Type&gt;</code>     Target Port: <code>&lt;Port&gt;</code>     Container Port:<code>&lt;Port&gt;</code>         Note you can configure a different target port to expose than the container port, as needed. </li> </ol> <p>Example Image ![[Additional_Ports_Truecharts_Example_1.png]]</p>"},{"location":"TrueNas/Expose%20External%20Interfaces%20to%20TrueCharts%20Apps/","title":"TrueNas #truecharts #Networking","text":"<p>Sometimes I need to expose an additional external (outside of the kubernetes cluster) network interface for a Truecharts app. For Example, needing to expose the app to a subnet it doesn't otherwise have access to. to simplify network when rules to allow connections between VLANs cause, or at least appear to cause issues.</p> <p>Under Service's Port(s) Configuration -&gt; Main Service Port Configuration check the box to enable Expert Config.</p> <ol> <li>Click The Add Button next to Add External Interface</li> <li>Select your Host interface (bridge or ethernet port this connection will run on) i.e <code>br1</code> or <code>eth0</code></li> <li>Under IP Address Management -&gt; IPAM Type Select Use Static IP</li> <li>Click The Add Button next to Static IP Addresses</li> <li>Configure your Static IP i.e. <code>10.0.10.145/24</code></li> <li>Click The Add Button next to Static Routes     Destination: <code>0.0.0.0</code>     Gateway: <code>&lt;Subnet Gateway&gt;</code>  i.e. <code>10.0.10.1</code></li> </ol> <p>Example Screenshot: ![[External_interface_Truecharts_Example_1.png]]</p>"},{"location":"TrueNas/TrueCharts%20App%20Migration/","title":"TrueNas #truecharts","text":""},{"location":"TrueNas/TrueCharts%20App%20Migration/#pvc-migration-script-truecharts","title":"PVC Migration Script | TrueCharts","text":"<p>Credit This guide uses the HeavyBullets Migration Guide for PVCs so credit for this one goes there, also to Zasx from the TrueCharts team for the steps used to create these guides/scripts</p> <p>I frequently found I was getting the error message when running the script between removing the old chart, and trying to complete setup of the new version.  Setup B has been modified to note the command needed to resolve this . (credit ksimm1 from the TrueCharts discord for that) <pre><code>[EFAULT] Failed to install chart release: Error: INSTALLATION FAILED: unable to build kubernetes objects from release manifest: resource mapping not found for name: \"lldap\" namespace: \"\" from \"\": no matches for kind \"PodMonitor\" in version \"monitoring.coreos.com/v1\" ensure CRDs are installed first\n</code></pre></p>"},{"location":"TrueNas/TrueCharts%20App%20Migration/#migration-steps","title":"Migration Steps\u200b","text":"<ol> <li> <p>First things first create a directory inside a dataset that's NOT <code>ix-applications</code>, for this guide I used <code>migration</code></p> </li> <li> <p>Clone the <code>Heavybullets Migration Git Repo</code></p> </li> </ol> <pre><code>git clone https://github.com/Heavybullets8/TT-Migration.git\n</code></pre> <ol> <li> <p>Go to the <code>TT-Migration</code> sub-directory and excute</p> </li> <li> <p>Follow prompts    a. Choose Application (for example <code>filebrowser</code>)    </p> </li> </ol> <p>b. Once that's done press <code>x</code> and continue to the next screen. Before installing the new application, remove the old namespace.     <code>sh k3s kubectl get namespace \"ix-&lt;app&gt;\" -o json \\   | tr -d \"\\n\" | sed \"s/\\\"finalizers\\\": \\[[^]]\\+\\]/\\\"finalizers\\\": []/\" \\   | k3s kubectl replace --raw /api/v1/namespaces/ix-&lt;app&gt;/finalize -f -</code>        credit ksimm1 from the TrueCharts discord</p> <p>c.  install the new Application        d. Watch the app finish</p> <ol> <li>Enjoy new app</li> </ol>"},{"location":"TrueNas/TrueCharts%20App%20Migration/#note","title":"Note\u200b","text":"<p>If an application fails to stop the NEW application, and throws any errors. You can attempt to run the script again, with:</p> <pre><code>bash migrate.sh -s\n</code></pre> <p>which will skip to the step immediately after deleting the old application.</p>"}]}